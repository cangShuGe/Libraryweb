webpackJsonp([19],{EjXR:function(e,n,t){"use strict";function o(e){t("lG/x")}Object.defineProperty(n,"__esModule",{value:!0});var s=t("gyMJ"),a=t("Lokx"),l=t.n(a),i={name:"dragTable",data:function(){return{json:[],oldList:[],newList:[],loading:!1}},methods:{get_list:function(){var e=this;this.loading=!0,Object(s.a)().then(function(n){n&&(e.json=n.data,e.json.forEach(function(n,t){e.oldList.push(t+1)}),e.newList=e.oldList.slice(),e.$nextTick(function(){e.setSort()})),e.loading=!1}).catch(function(){e.loading=!1})},setSort:function(){var e=this,n=this.$el.querySelector(".el-table__body-wrapper > table > tbody");this.sortable=l.a.create(n,{onEnd:function(n){var t=e.newList.splice(n.oldIndex,1)[0];e.newList.splice(n.newIndex,0,t)}})}},mounted:function(){this.get_list()}},r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"dragTable"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.json,"element-loading-text":"拼命加载中...",border:"",fit:"","header-cell-style":{"text-align":"center"}}},[t("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"65"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",[e._v(e._s(n.$index+1))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"ID",width:"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",[e._v(e._s(n.row.sound.id))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"时间",width:"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("i",{staticClass:"el-icon-time"}),e._v(" "),t("span",[e._v(e._s(e._f("formatTime")(n.row.sound.update_time)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"标题","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n.row.sound.song_info?[n.row.sound.song_info.name?t("p",[e._v(e._s(n.row.sound.song_info.name.type)+": "+e._s(n.row.sound.song_info.name.name))]):e._e(),e._v(" "),n.row.sound.song_info.author?t("p",[e._v(e._s(n.row.sound.song_info.author.type)+": "+e._s(n.row.sound.song_info.author.name))]):e._e(),e._v(" "),n.row.sound.song_info.album_name?t("p",[e._v(e._s(n.row.sound.song_info.album_name.type)+": "+e._s(n.row.sound.song_info.album_name.name))]):e._e()]:e._e(),e._v(" "),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{size:"medium",type:"info"}},[e._v(e._s(n.row.sound.name))])],1)],2)]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"频道","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-tag",{attrs:{size:"medium"}},[e._v(e._s(n.row.sound.channel.name))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"热度",width:"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-popover",{attrs:{trigger:"hover",placement:"right"}},[n.row.sound.song_info?[n.row.sound.view_count?t("p",[e._v("播放："+e._s(e._f("devide_10k")(n.row.sound.view_count)))]):e._e(),e._v(" "),n.row.sound.like_count?t("p",[e._v("喜欢："+e._s(e._f("devide_10k")(n.row.sound.like_count)))]):e._e(),e._v(" "),n.row.sound.share_count?t("p",[e._v("分享："+e._s(e._f("devide_10k")(n.row.sound.share_count)))]):e._e()]:e._e(),e._v(" "),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("el-rate",{attrs:{disabled:"",max:3,value:n.row.sound.is_hot,"icon-classes":["el-icon-my-hot","el-icon-my-hot","el-icon-my-hot"],colors:["#99A9BF","#F7BA2A","#FF9900"]}})],1)],2)]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"作者","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",[e._v(e._s(n.row.sound.user.name))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"拖拽",width:"65"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("i",{staticClass:"el-icon-rank dragIcon"})]}}])})],1),e._v(" "),e.json.length>0?t("div",{staticStyle:{marginTop:"30px"}},[t("p",[e._v("默认顺序："+e._s(e.oldList))]),e._v(" "),t("p",[e._v("拖拽后的顺序："+e._s(e.newList))])]):e._e()],1)},d=[],u={render:r,staticRenderFns:d},_=u,c=t("VU/8"),f=o,v=c(i,_,!1,f,null,null);n.default=v.exports},gAgV:function(e,n,t){n=e.exports=t("FZ+f")(!1),n.push([e.i,"\n#dragTable {\n  width: 100%;\n}\n#dragTable .dragIcon {\n  font-size: 18px;\n  cursor: pointer;\n}\n",""])},"lG/x":function(e,n,t){var o=t("gAgV");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("053d7838",o,!0)}});